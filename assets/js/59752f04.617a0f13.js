"use strict";(self.webpackChunk_sap_open_resource_discovery=self.webpackChunk_sap_open_resource_discovery||[]).push([[82],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=i.createContext({}),p=function(e){var t=i.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(o.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,h=u["".concat(o,".").concat(m)]||u[m]||d[m]||r;return n?i.createElement(h,l(l({ref:t},c),{},{components:n})):i.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[u]="string"==typeof e?e:a,l[1]=s;for(var p=2;p<r;p++)l[p]=n[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9795:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>p,toc:()=>u});var i=n(7462),a=n(3366),r=(n(7294),n(3905)),l=["components"],s={title:"SAP Core v1"},o="SAP Core Policy Level (v1.0)",p={unversionedId:"spec-extensions/policy-levels/sap-core-v1",id:"spec-extensions/policy-levels/sap-core-v1",title:"SAP Core v1",description:"Description",source:"@site/docs/spec-extensions/policy-levels/sap-core-v1.md",sourceDirName:"spec-extensions/policy-levels",slug:"/spec-extensions/policy-levels/sap-core-v1",permalink:"/open-resource-discovery/spec-extensions/policy-levels/sap-core-v1",draft:!1,editUrl:"https://github.com/SAP/open-resource-discovery/tree/main/docs/spec-extensions/policy-levels/sap-core-v1.md",tags:[],version:"current",frontMatter:{title:"SAP Core v1"},sidebar:"specExtensionsSidebar",previous:{title:"ORD Policy Levels",permalink:"/open-resource-discovery/spec-extensions/policy-levels/"}},c={},u=[{value:"Description",id:"description",level:2},{value:"General Policies",id:"general-policies",level:2},{value:"Access Strategies",id:"access-strategies",level:3},{value:"Namespaces",id:"namespaces",level:3},{value:"ID Constraints",id:"id-constraints",level:3},{value:"Title Constraints",id:"title-constraints",level:3},{value:"Description Constraints",id:"description-constraints",level:3},{value:"Short Description Constraints",id:"short-description-constraints",level:3},{value:"Misc Constraints",id:"misc-constraints",level:3},{value:"Context Specific Policies",id:"context-specific-policies",level:2},{value:"Package",id:"package",level:3},{value:"Consumption Bundle",id:"consumption-bundle",level:3},{value:"API Resource",id:"api-resource",level:3},{value:"Event Resource",id:"event-resource",level:3},{value:"Entity Types",id:"entity-types",level:3},{value:"Extensible",id:"extensible",level:3},{value:"Correlation IDs",id:"correlation-ids",level:3}],d={toc:u},m="wrapper";function h(e){var t=e.components,n=(0,a.Z)(e,l);return(0,r.kt)(m,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"sap-core-policy-level-v10"},"SAP Core Policy Level (v1.0)"),(0,r.kt)("h2",{id:"description"},"Description"),(0,r.kt)("p",null,"This policy level (aka compliance level) ",(0,r.kt)("inlineCode",{parentName:"p"},"sap:core:v1")," MUST be fulfilled by all SAP applications and services.\nExceptions are only allowed on a case by case basis."),(0,r.kt)("p",null,"This policy level is based on various SAP guidelines and rules - most of them which are already established."),(0,r.kt)("p",null,"It defines the core rules and guidelines that are shared across SAP, although more specific rules and guidelines MAY be applied on top."),(0,r.kt)("h2",{id:"general-policies"},"General Policies"),(0,r.kt)("h3",{id:"access-strategies"},"Access Strategies"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SAP applications and services MUST use SAP specific access strategies:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-extensions/access-strategies/sap-businesshub-basic-v1"},(0,r.kt)("inlineCode",{parentName:"a"},"sap.businesshub:basic-auth:v1"))," for the ",(0,r.kt)("a",{parentName:"li",href:"https://api.sap.com/"},"SAP Business Accelerator Hub"),".",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},'The use of "mixed" access strategies is not supported, so both the ORD documents AND the attached resource definitions MUST be available through the same access strategy.'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-extensions/access-strategies/sap-cmp-mtls-v1"},(0,r.kt)("inlineCode",{parentName:"a"},"sap:cmp-mtls:v1"))," for the Unified Customer Landscape.")))),(0,r.kt)("h3",{id:"namespaces"},"Namespaces"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"All SAP ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/#namespaces"},"namespaces")," MUST be registered in the SAP namespace-registry.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"All SAP applications MUST use the ",(0,r.kt)("inlineCode",{parentName:"li"},"sap")," vendor namespace.")))),(0,r.kt)("h3",{id:"id-constraints"},"ID Constraints"),(0,r.kt)("p",null,"IF the resources have already been published to the public ",(0,r.kt)("a",{parentName:"p",href:"https://api.sap.com/"},"SAP Business Accelerator Hub")," we MUST somehow keep a correlation between their ORD ID and already existing Business Hub ID. This is necessary to keep existing URLs stable and to ensure we update the existing entries, not create new ones."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Preferred Approach"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Get in touch with the Business Hub colleagues, to clarify which existing packages need to be associated with the registered ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/#namespaces"},"namespace")," (from step above)."),(0,r.kt)("li",{parentName:"ul"},"Keep the ",(0,r.kt)("inlineCode",{parentName:"li"},"<resourceId>")," fragment of the ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/#ord-id"},"ORD ID")," identical to the ID that was previously published on the Business Accelerator Hub.")))),(0,r.kt)("h3",{id:"title-constraints"},"Title Constraints"),(0,r.kt)("p",null,"The following constraints apply in addition to the constraints defined in the ",(0,r.kt)("a",{parentName:"p",href:"https://sap.github.io/open-resource-discovery/spec-v1/interfaces/document/"},"ORD Document"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"All ",(0,r.kt)("inlineCode",{parentName:"li"},"title")," values (except link titles) MUST NOT exceed 120 characters, as per SAP API Style Guide and SAP Business Accelerator Hub guideline recommendations."),(0,r.kt)("li",{parentName:"ul"},"All ",(0,r.kt)("inlineCode",{parentName:"li"},"title"),' values (except link titles) MUST NOT contain the term "Deprecated" or "Decommissioned". Use ',(0,r.kt)("inlineCode",{parentName:"li"},"releaseStatus")," to indicate this instead, if available."),(0,r.kt)("li",{parentName:"ul"},"All ",(0,r.kt)("inlineCode",{parentName:"li"},"title")," values (except link titles) SHOULD only contain alphanumeric characters, spaces, hyphens, comma, parentheses and forward slashes (but only if it is not used used as a substitute for 'and' or 'or')."),(0,r.kt)("li",{parentName:"ul"},"All ",(0,r.kt)("inlineCode",{parentName:"li"},"title")," values (except link titles) SHOULD NOT contain version number and operation words like create, read, delete, and update.")),(0,r.kt)("h3",{id:"description-constraints"},"Description Constraints"),(0,r.kt)("p",null,"The following constraints apply in addition to the constraints defined in the ",(0,r.kt)("a",{parentName:"p",href:"https://sap.github.io/open-resource-discovery/spec-v1/interfaces/document/"},"ORD Document"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"All ",(0,r.kt)("inlineCode",{parentName:"li"},"description")," values MUST NOT contain the short description.\nThey are complementary to the short description and should not just be a longer replacement.")),(0,r.kt)("h3",{id:"short-description-constraints"},"Short Description Constraints"),(0,r.kt)("p",null,"The following constraints apply in addition to the constraints defined in the ",(0,r.kt)("a",{parentName:"p",href:"https://sap.github.io/open-resource-discovery/spec-v1/interfaces/document/"},"ORD Document"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"All ",(0,r.kt)("inlineCode",{parentName:"li"},"shortDescription")," values SHOULD NOT exceed 180 characters."),(0,r.kt)("li",{parentName:"ul"},"All ",(0,r.kt)("inlineCode",{parentName:"li"},"shortDescription")," values MUST NOT repeat or start with the object name."),(0,r.kt)("li",{parentName:"ul"},"All ",(0,r.kt)("inlineCode",{parentName:"li"},"shortDescription")," values SHOULD only use alphanumeric characters, spaces, underscores, hyphens, period, comma, parentheses, possessive apostrophes and specially approved names (",(0,r.kt)("inlineCode",{parentName:"li"},"S/4HANA"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"country/region")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"G/L")," (General ledger))")),(0,r.kt)("h3",{id:"misc-constraints"},"Misc Constraints"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"For setting and incrementing API versions and major versions, the SAP API Compatibility rules MUST be followed."),(0,r.kt)("li",{parentName:"ul"},"If an API or event resource has been deprecated, the ",(0,r.kt)("inlineCode",{parentName:"li"},"deprecationDate")," MUST be provided."),(0,r.kt)("li",{parentName:"ul"},"For all ",(0,r.kt)("inlineCode",{parentName:"li"},"releaseStatus")," changes, a changelog entry SHOULD be created."),(0,r.kt)("li",{parentName:"ul"},"For the taxonomy properties ",(0,r.kt)("inlineCode",{parentName:"li"},"lineOfBusiness")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"industry"),": Only the recommended values MUST be chosen."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"accessStrategy")," ",(0,r.kt)("inlineCode",{parentName:"li"},"open")," MUST NOT be used without explicit consent by the responsible security experts, especially when the metadata could expose tenant (customer) specific information."),(0,r.kt)("li",{parentName:"ul"},"Although ",(0,r.kt)("inlineCode",{parentName:"li"},"Vendor")," is technically not validated by a policy level, we need to ensure that within SAP we don't define the SAP vendor multiple times or reference it differently.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The SAP ",(0,r.kt)("inlineCode",{parentName:"li"},"Vendor")," MUST NOT be defined by any SAP application or service, as this is done centrally."),(0,r.kt)("li",{parentName:"ul"},"The correct value for a SAP vendor reference is ",(0,r.kt)("inlineCode",{parentName:"li"},"sap:vendor:SAP:"),"."))),(0,r.kt)("li",{parentName:"ul"},"For OpenAPI documents which are already published on Business Accelerator Hub, the existing ",(0,r.kt)("inlineCode",{parentName:"li"},"x-sap-")," extension properties MUST be kept even if the information are now also in the ORD Document. This is to not break end-consumers that only have access to the OpenAPI file. We MAY remove this requirement in the future, by automatically post-processing the ORD information into the OpenAPI files centrally (feature request).")),(0,r.kt)("h2",{id:"context-specific-policies"},"Context Specific Policies"),(0,r.kt)("h3",{id:"package"},"Package"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"For ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/interfaces/document#package"},"Packages")," with policy level sap, the Governance Guidelines for API Packages MUST be followed.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"This includes the current limitation that Packages MUST NOT contain mixed resource types. E.g., a Package must only contain either APIs or Events, but never both together."),(0,r.kt)("li",{parentName:"ul"},"SAP Business Accelerator Hub publishing becomes slow if too much content is in a Package (> 100 resources). Consider creating smaller packages that are split around the aspect of what needs to be published in one transaction."))),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"vendor")," of a Package MUST be set to ",(0,r.kt)("inlineCode",{parentName:"li"},"sap:vendor:SAP:"),".")),(0,r.kt)("h3",{id:"consumption-bundle"},"Consumption Bundle"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"For public or internal ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/interfaces/document#api-resource"},"API Resources")," with ",(0,r.kt)("inlineCode",{parentName:"li"},"inbound")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"mixed")," direction (consumption pattern): MUST provide and assign a ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/interfaces/document#consumption-bundle"},"Consumption Bundle"),". This is necessary as some SAP ORD Consumers rely on Consumption Bundles to find and navigate accessible resources.")),(0,r.kt)("h3",{id:"api-resource"},"API Resource"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"For ",(0,r.kt)("a",{parentName:"p",href:"/open-resource-discovery/spec-v1/interfaces/document#api-resource"},"API Resources")," the Guidelines for publishing API Resources on the SAP Business Accelerator Hub MUST be followed according to our internal API and external API guidelines.\nThe first link includes a decision table for internal vs. external, which corresponds to ",(0,r.kt)("inlineCode",{parentName:"p"},"visibility")," internal vs. public in ORD.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The ",(0,r.kt)("a",{parentName:"p",href:"/open-resource-discovery/spec-v1/interfaces/document#api-resource_extensible"},(0,r.kt)("inlineCode",{parentName:"a"},"extensible"))," property MUST be provided.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"For API Resources with ",(0,r.kt)("inlineCode",{parentName:"p"},"visibility"),': "public" or "internal":'),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Resource definitions MUST be provided for OData, REST, GraphQL and SOAP APIs."),(0,r.kt)("li",{parentName:"ul"},"OData APIs MUST have a resource definition of ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "edmx"')," AND additionally one of either ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "openapi-v3"')," or ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "openapi-v2"'),". Optionally, ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "csdl-json"'),' may be added."'),(0,r.kt)("li",{parentName:"ul"},"Plain REST APIs MUST have a resource definition of ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "openapi-v3"')," (RECOMMENDED) or ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "openapi-v2"'),"."),(0,r.kt)("li",{parentName:"ul"},"GraphQL APIs MUST have a resource definition of ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "graphql-sdl"'),"."),(0,r.kt)("li",{parentName:"ul"},"SOAP APIs MUST have a resource definition of ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "wsdl-v2"')," (RECOMMENDED) or ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "wsdl-v1"'),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"OpenAPI definitions SHOULD be validated via the SAP API Metadata Validator, using ",(0,r.kt)("inlineCode",{parentName:"p"},"sap:core:v1")," compliance level.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The SAP API Harmonization Guideline rules MAY be adhered, but are not part of the ",(0,r.kt)("inlineCode",{parentName:"p"},"sap:core:v1")," scope."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"We intend to release an additional policy level (",(0,r.kt)("inlineCode",{parentName:"li"},"sap:core:v2"),"?) that includes this as MUST requirement.")))),(0,r.kt)("h3",{id:"event-resource"},"Event Resource"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"For ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/interfaces/document#event-resource"},"Event Resources")," the ",(0,r.kt)("a",{parentName:"li",href:"https://help.sap.com/viewer/9c880f03c6084ca4b2573b5605ec7a83/Cloud/en-US/3cda0ea7b65849108d530eb33ce2fb85.html"},"Governance Guidelines for Events")," MUST be followed."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"extensible")," property MUST be provided."),(0,r.kt)("li",{parentName:"ul"},"For Event Resources with ",(0,r.kt)("inlineCode",{parentName:"li"},"visibility"),': "public" or "internal":',(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Resource definitions MUST be provided."),(0,r.kt)("li",{parentName:"ul"},"CloudEvents MUST have a resource definition of ",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "asyncapi-v2"')," (see ",(0,r.kt)("a",{parentName:"li",href:"https://www.asyncapi.com/docs/specifications/2.0.0"},"AsyncAPI specification 2.0"),")."),(0,r.kt)("li",{parentName:"ul"},"SAP Business Events (that conform to the SAP Event Specification:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"MUST use the SAP Event Catalog standard, which is compatible to AsyncAPI 2.0 (",(0,r.kt)("inlineCode",{parentName:"li"},'"type": "asyncapi-v2"'),")."),(0,r.kt)("li",{parentName:"ul"},"MUST NOT be part of a consumption bundle.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Events can only be consumed at an intermediary, i.e., the SAP Event Mesh."),(0,r.kt)("li",{parentName:"ul"},"Consequently, the producing application cannot describe how they are eventually consumed."))))))),(0,r.kt)("li",{parentName:"ul"},"SAP Event Catalogs SHOULD be validated via the SAP API Metadata Validator, using ",(0,r.kt)("inlineCode",{parentName:"li"},"sap:core:v1")," compliance level.")),(0,r.kt)("h3",{id:"entity-types"},"Entity Types"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"All Entity Type ",(0,r.kt)("inlineCode",{parentName:"li"},"description")," values MUST NOT exceed 1000 characters")),(0,r.kt)("h3",{id:"extensible"},"Extensible"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If the mandatory ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/interfaces/document#extensible"},"Extensible")," object has a ",(0,r.kt)("a",{parentName:"li",href:"/open-resource-discovery/spec-v1/interfaces/document#extensible_description"},"description"),", it MUST follow the guidance and rules of the SAP Technology Guideline TG12.R2.")),(0,r.kt)("h3",{id:"correlation-ids"},"Correlation IDs"),(0,r.kt)("p",null,"With ORD comes a ",(0,r.kt)("a",{parentName:"p",href:"/open-resource-discovery/spec-v1/#correlation-id"},"Correlation ID")," concept."),(0,r.kt)("p",null,"All correlations that target an ",(0,r.kt)("inlineCode",{parentName:"p"},"sap.*")," namespace MUST use registered correlation ID types.\nLike the namespaces, they can be registered in the SAP namespace-registry."),(0,r.kt)("p",null,"This will help us to 1) achieve internal consistency that we can also automatically validate and 2) get an overview of valid and registered Correlation ID Types."))}h.isMDXComponent=!0}}]);