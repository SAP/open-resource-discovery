"use strict";(self.webpackChunk_sap_open_resource_discovery=self.webpackChunk_sap_open_resource_discovery||[]).push([[342],{4560:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var i=n(4848),a=n(8453);const s={sidebar_position:2,title:"How To Adopt ORD (Provider)",description:"ORD Provider guide how to adopt ORD, depending on preconditions and requirements."},o="How To Adopt ORD as a Provider",r={id:"details/articles/adopt-ord-as-provider",title:"How To Adopt ORD (Provider)",description:"ORD Provider guide how to adopt ORD, depending on preconditions and requirements.",source:"@site/docs/details/articles/adopt-ord-as-provider.md",sourceDirName:"details/articles",slug:"/details/articles/adopt-ord-as-provider",permalink:"/open-resource-discovery/details/articles/adopt-ord-as-provider",draft:!1,unlisted:!1,editUrl:"https://github.com/SAP/open-resource-discovery/tree/main/docs/details/articles/adopt-ord-as-provider.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"How To Adopt ORD (Provider)",description:"ORD Provider guide how to adopt ORD, depending on preconditions and requirements."},sidebar:"detailsSidebar",previous:{title:"Why ORD?",permalink:"/open-resource-discovery/details/articles/why-ord"},next:{title:"Integration Dependency",permalink:"/open-resource-discovery/details/articles/integration-dependency"}},d={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Scope",id:"scope",level:2},{value:"Scenarios",id:"scenarios",level:2},{value:"ORD Support by Framework",id:"ord-support-by-framework",level:3},{value:"Only Static Metadata",id:"only-static-metadata",level:3},{value:"When is this applicable?",id:"when-is-this-applicable",level:4},{value:"Option 1: Serve as static files",id:"option-1-serve-as-static-files",level:4},{value:"Option 2: Implement a simple REST API",id:"option-2-implement-a-simple-rest-api",level:4},{value:"Future Options",id:"future-options",level:4},{value:"Dynamic Metadata",id:"dynamic-metadata",level:3},{value:"Shared Concerns",id:"shared-concerns",level:2},{value:"Validate ORD and other Metadata",id:"validate-ord-and-other-metadata",level:3},{value:"Protect ORD Document API Access",id:"protect-ord-document-api-access",level:3},{value:"Integrate with ORD Aggregators",id:"integrate-with-ord-aggregators",level:3}];function l(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"how-to-adopt-ord-as-a-provider",children:"How To Adopt ORD as a Provider"}),"\n",(0,i.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(t.p,{children:["You may wonder how much work it is to adopt ORD as an ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#ord-provider",children:"ORD Provider"}),".\nWhat are the steps involved? Are there any libraries / frameworks that can help me?"]}),"\n",(0,i.jsx)(t.p,{children:"This guide will explain those questions, but some of the answers will depend on your situation.\nThe reason is that different adopters of ORD may have different initial conditions and expectations."}),"\n",(0,i.jsx)(t.p,{children:"ORD is designed to allow a very simple implementation with minimal effort. Many sophisticated concepts from the specification can be skipped in this case. However, if you need to support advanced features like run-time dynamic metadata discovery, the adoption complexity increases."}),"\n",(0,i.jsx)(t.p,{children:"Therefore let's start with the simplest scenarios first and discuss the advantages and shortcomings."}),"\n",(0,i.jsx)(t.h2,{id:"scope",children:"Scope"}),"\n",(0,i.jsxs)(t.p,{children:["First, it's important to understand that ORD may look bigger and more complex than it may be in practice.\nThis is, because ",(0,i.jsx)(t.strong,{children:"most of the specification is optional to implement"})," and the data interfaces share a lot of common attributes.\nAn ORD document that returns one empty ORD document is technically a valid implementation - although it doesn't bring value to anyone."]}),"\n",(0,i.jsxs)(t.p,{children:["So it needs to be clarified first, which information need to be exposed via ORD that are useful to actual ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#ord-consumer",children:"ORD Consumers"}),". Typically the most essential resources to describe are APIs and Events and their Package assignments."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"\u2139 At SAP, the minimal scope of ORD adoption is to describe public APIs and Events and their Package assignments.\nEverything else is optional, but may be a prerequisite for other Product integrations or use cases (like SAP Event Broker / Mesh or Data Products)"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"scenarios",children:"Scenarios"}),"\n",(0,i.jsx)(t.h3,{id:"ord-support-by-framework",children:"ORD Support by Framework"}),"\n",(0,i.jsxs)(t.p,{children:["The simplest scenario is that ORD support is already built into an opinionated framework.\nThis is the case for the ",(0,i.jsx)(t.a,{href:"https://developers.sap.com/topics/abap-platform.platform.html",children:"SAP ABAP Platform"})," already and in the future, also the ",(0,i.jsx)(t.a,{href:"https://cap.cloud.sap/docs/about/",children:"SAP CAP framework"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"In these cases, ORD support only needs to be activated and configured. Any additional information that is needed for ORD may need to be provided. But there is no need to write extra code."}),"\n",(0,i.jsxs)(t.p,{children:["After this is done, an ",(0,i.jsx)(t.a,{href:"#integrate-with-ord-aggregators",children:"integration with ORD Aggregators"})," needs to be established."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"\u2139 Other frameworks may also adopt ORD support, but this will only work well with highly opinionated frameworks that have a strong internal metadata model where the ORD information can be extracted from."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"only-static-metadata",children:"Only Static Metadata"}),"\n",(0,i.jsx)(t.h4,{id:"when-is-this-applicable",children:"When is this applicable?"}),"\n",(0,i.jsx)(t.p,{children:"This option requires a clear understanding of whether the metadata that is revealed is static only.\nMetadata here includes both the ORD documents and the metadata definitions that come with them."}),"\n",(0,i.jsx)(t.p,{children:"The metadata is static, if it can be fully determined at design-time or deploy-time.\nThe application / service that is described usually stays the same at run-time and there are no tenant-specific changes / extensions or they are not documented via metadata."}),"\n",(0,i.jsx)(t.h4,{id:"option-1-serve-as-static-files",children:"Option 1: Serve as static files"}),"\n",(0,i.jsx)(t.p,{children:"This option is not recommended, but let's look at it anyway, just to make a point how simple an ORD implementation can be."}),"\n",(0,i.jsxs)(t.p,{children:["The ORD Document API is designed to be a very simple REST API.\nIn fact, it's just serving files via HTTP GET request in a standard manner.\nThis can even be achieved by using a static web server like ",(0,i.jsx)(t.a,{href:"https://www.nginx.com/",children:"nginx"}),", without writing a single line of code."]}),"\n",(0,i.jsxs)(t.p,{children:["Just dropping the ORD configuration and documents and additional metadata files into a web server can already work.\nPlease consider whether the information ",(0,i.jsx)(t.a,{href:"#protect-ord-document-api-access",children:"need to be protected"})," and do so if necessary."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["\ud83d\udd17 See ",(0,i.jsx)(t.a,{href:"https://github.com/SAP/open-resource-discovery/tree/main/implementation-examples/nginx-no-auth",children:"./implementation-examples/nginx-no-auth"})," for an example implementation"]}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"option-2-implement-a-simple-rest-api",children:"Option 2: Implement a simple REST API"}),"\n",(0,i.jsx)(t.p,{children:"We recommend implementing the ORD Document API just like any other API that your application / service exposes.\nHow you do this may depend on your programming language, framework and backend architecture."}),"\n",(0,i.jsx)(t.p,{children:"The API itself consists just of three different types of API GET operations:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["One to implement the ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#ord-configuration-endpoint",children:"ORD Configuration Endpoint"})]}),"\n",(0,i.jsxs)(t.li,{children:["One to return all ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#ord-document",children:"ORD Documents"})]}),"\n",(0,i.jsx)(t.li,{children:'One to return the "attached" metadata documents (ORD Resource Definitions)'}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Please note that you may need to ",(0,i.jsx)(t.a,{href:"#protect-ord-document-api-access",children:"protect the API access"}),"."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["\ud83d\udd17 See ",(0,i.jsx)(t.a,{href:"https://github.com/SAP/open-resource-discovery/tree/main/implementation-examples/no-auth",children:"./implementation-examples/no-auth"})," for an example node.js implementation without authentication."]}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"future-options",children:"Future Options"}),"\n",(0,i.jsx)(t.p,{children:"We are aware that publishing static metadata can be made even more convenient.\nCurrently it is necessary to serve the metadata by a service at runtime.\nIf the metadata is purely static, it would also be possible to publish it at design-time or deploy-time, e.g. via a CI/CD pipeline job or CLI utility."}),"\n",(0,i.jsxs)(t.p,{children:["This is an option we're considering to standardize in ORD, as a ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#push-transport",children:"push transport"})," mode. If this pattern is of practical use to you, please reach out to us."]}),"\n",(0,i.jsx)(t.h3,{id:"dynamic-metadata",children:"Dynamic Metadata"}),"\n",(0,i.jsx)(t.p,{children:"If some of the metadata is dynamic (changes at run-time or different per tenant), the static solutions will not be sufficient."}),"\n",(0,i.jsx)(t.p,{children:"Now becomes a necessity to implement ORD as a REST API, where the GET operations return metadata dynamically.\nThe response (of at least some requests) will depend on tenant context, customizations and extensions."}),"\n",(0,i.jsxs)(t.p,{children:["In practice it's more realistic that such an implementation will be a mix between static and dynamic metadata.\nSince static metadata is much cheaper and easier to provide, it's recommended to only use run-time dynamic generation of metadata where necessary. In ORD it's possible to indicate this on a per resource basis via the ",(0,i.jsx)(t.code,{children:"systemInstanceAware"})," attribute see ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#def-system-instance-aware",children:"definition"}),"."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["\ud83d\udea7 The ",(0,i.jsx)(t.a,{href:"https://ord-reference-application.cfapps.sap.hana.ondemand.com/",children:"ORD Reference Application"})," showcases a mix between static and dynamic metadata. The source-code for it is yet to be made public, though."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"shared-concerns",children:"Shared Concerns"}),"\n",(0,i.jsx)(t.p,{children:"The following concerns apply the same to the different scenarios and should always be considered."}),"\n",(0,i.jsx)(t.h3,{id:"validate-ord-and-other-metadata",children:"Validate ORD and other Metadata"}),"\n",(0,i.jsxs)(t.p,{children:["While the ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#ord-aggregator",children:"ORD Aggregators"})," will validate the published metadata, this happens very late in the development lifecycle.\nWe therefore strongly RECOMMEND to validate the published metadata as early as possible, ideally in the local CI/CD pipelines."]}),"\n",(0,i.jsx)(t.p,{children:"Usually metadata specification come with a schema that can be used for validation. This is also true for the ORD specification, where it can be downloaded on the interface documentation pages."}),"\n",(0,i.jsxs)(t.p,{children:["Industry standard metadata formats usually come with validators, too. Consider for example ",(0,i.jsx)(t.a,{href:"https://stoplight.io/open-source/spectral",children:"spectral"}),"."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"\ud83d\udea7 At SAP we have built a metadata validator for this, that we consider open-sourcing in the future, too.\nIt can not only validate ORD documents and configs but also other metadata standards for technical correctness and guideline compliance."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"protect-ord-document-api-access",children:"Protect ORD Document API Access"}),"\n",(0,i.jsxs)(t.p,{children:["You may not want to openly expose the ORD information and related metadata to everyone.\nIf this is the case, the ORD Document API needs to be protected.\nThe specification makes no assumptions on how this is done, but the ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#ord-aggregator",children:"ORD Aggregators"})," will likely define the ",(0,i.jsx)(t.a,{href:"../../spec-extensions/access-strategies/",children:"Access Strategies"})," it supports."]}),"\n",(0,i.jsx)(t.h3,{id:"integrate-with-ord-aggregators",children:"Integrate with ORD Aggregators"}),"\n",(0,i.jsxs)(t.p,{children:["An ORD Provider implementation alone will not be very useful, because the information also need to be made available to other Consumers. This is done by integrating with one (or multiple) ",(0,i.jsx)(t.a,{href:"/open-resource-discovery/spec-v1/#ord-aggregator",children:"ORD Aggregators"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"How this is done is defined by the onboarding of the aggregators."}),"\n",(0,i.jsxs)(t.p,{children:["To avoid detecting issues late (when publishing to the ORD aggregator), we highly RECOMMEND to locally ",(0,i.jsx)(t.a,{href:"#validate-ord-and-other-metadata",children:"validate ORD and other metadata"})," first."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["At SAP we have the ",(0,i.jsx)(t.a,{href:"https://api.sap.com/",children:"SAP Business Accelerator Hub"})," as aggregator for the static perspective and the Unified Customer Landscape (BTP System Landscape) for the tenant-aware, dynamic perspective."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var i=n(6540);const a={},s=i.createContext(a);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);